import{r as u,o as i,c as l,a as L,M as v,b as g,V as A,w as _,d as k,t as b,e as I,f as V,g as f,h as x,F as E,i as j,j as T,k as C,l as H,m as M,p as $,n as D,q as N,A as q,s as X}from"./vendor.2a9b3e49.js";const B=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function t(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(n){if(n.ep)return;n.ep=!0;const o=t(n);fetch(n.href,o)}};B();var h=(e,r)=>{const t=e.__vccOpts||e;for(const[s,n]of r)t[s]=n;return t};const F={};function K(e,r){const t=u("router-view");return i(),l(t)}var W=h(F,[["render",K]]);const S=L.create({baseURL:{}.VITE_HOST});S.interceptors.response.use(e=>{const r=e.data;return e.status>=400?(globalThis.$message.error(e.data.message),Promise.reject(new Error(r.message||"Error"))):e},e=>(v.error(e.response.data.message),Promise.reject(e)));function J(e){return S({url:"/api/login",method:"post",data:e})}const P="arco_admin_template_token";function U(){return g.get(P)}function z(e){return g.set(P,e)}const G=()=>({token:"token",name:"",avatar:"",role:null}),Q=G(),Y={async login({commit:e},r){try{const t=await J(r);return e("SET_TOKEN",t.data.token),z(t.data.token),!0}catch{return!1}}},Z={SET_TOKEN:(e,r)=>{e.token=r}};var ee={namespaced:!0,state:Q,actions:Y,mutations:Z};const te=new A.Store({modules:{user:ee}}),re="modulepreload",O={},ne="/arco_admin_template/dist/",m=function(r,t){return!t||t.length===0?r():Promise.all(t.map(s=>{if(s=`${ne}${s}`,s in O)return;O[s]=!0;const n=s.endsWith(".css"),o=n?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${o}`))return;const a=document.createElement("link");if(a.rel=n?"stylesheet":re,n||(a.as="script",a.crossOrigin=""),a.href=s,document.head.appendChild(a),n)return new Promise((d,p)=>{a.addEventListener("load",d),a.addEventListener("error",p)})})).then(()=>r())},oe={name:"SidebarItem",props:{item:{type:Object},parentPath:{type:String}},computed:{fullPath(){let e=this.item.path.startsWith("/")?this.item.path.substr(1):this.item.path;return e=this.parentPath+"/"+e,e.replaceAll("//","/")}}};function se(e,r,t,s,n,o){const a=u("a-menu-item"),d=u("sidebar-item",!0),p=u("a-sub-menu");return t.item.children===void 0||t.item.children.length===0?(i(),l(a,{key:o.fullPath},{default:_(()=>[k(b(t.item.meta.title),1)]),_:1})):(i(),l(p,{key:o.fullPath},I({title:_(()=>[k(b(t.item.meta.title),1)]),default:_(()=>[(i(!0),f(E,null,x(t.item.children,y=>(i(),l(d,{key:y.path,item:y,"parent-path":o.fullPath},null,8,["item","parent-path"]))),128))]),_:2},[t.item.meta.icon?{name:"icon",fn:_(()=>[(i(),l(V(t.item.meta.icon)))])}:void 0]),1024))}var ae=h(oe,[["render",se]]);const ie={components:{SidebarItem:ae},computed:{routes(){return this.$router.options.routes.filter(e=>!e.hidden)},openedMenu(){return this.$route.path}},methods:{to(e){this.$router.push(e)}}};function ce(e,r,t,s,n,o){const a=u("sidebar-item"),d=u("a-menu");return i(),l(d,{style:{width:"220px",height:"100%",flexShrink:0},"default-selected-keys":[o.openedMenu],"auto-open":!0,onMenuItemClick:o.to,"show-collapse-button":""},{default:_(()=>[(i(!0),f(E,null,x(o.routes,p=>(i(),l(a,{key:p.path,item:p,"parent-path":""},null,8,["item"]))),128))]),_:1},8,["default-selected-keys","onMenuItemClick"])}var ue=h(ie,[["render",ce]]),de="/arco_admin_template/dist/assets/icon.60fd6263.svg";const le={components:{SideBar:ue},props:{msg:String}},pe={class:"page-wrapper"},me=C('<div class="layout-navbar" data-v-6817fd76><div class="navbar" data-v-6817fd76><div class="side-left" data-v-6817fd76><div style="height:38px;" data-v-6817fd76><img src="'+de+'" data-v-6817fd76></div><h5 class="arco-typography brand" data-v-6817fd76>Arco Design</h5></div></div></div>',1),_e={class:"content-wrapper"};function he(e,r,t,s,n,o){const a=u("side-bar"),d=u("router-view");return i(),f("div",pe,[me,j("div",_e,[T(a),T(d,{class:"content"})])])}var R=h(le,[["render",he],["__scopeId","data-v-6817fd76"]]);const fe=[{path:"/404",component:()=>m(()=>import("./404.dc85d92e.js"),["assets/404.dc85d92e.js","assets/vendor.2a9b3e49.js"]),hidden:!0},{path:"/login",component:()=>m(()=>import("./index.aab8e7c2.js"),["assets/index.aab8e7c2.js","assets/index.25f5fd56.css","assets/vendor.2a9b3e49.js"]),hidden:!0},{path:"/",component:R,meta:{title:"Menu1",icon:"icon-apps"},children:[{name:"dashboard",path:"/dashboard",component:()=>m(()=>import("./index.3ed4ddac.js"),["assets/index.3ed4ddac.js","assets/index.3bc607eb.css","assets/vendor.2a9b3e49.js"]),meta:{title:"Dashboard",icon:"icon-face-smile-fill"}},{path:"/form",component:()=>m(()=>import("./index.3ed4ddac.js"),["assets/index.3ed4ddac.js","assets/index.3bc607eb.css","assets/vendor.2a9b3e49.js"]),meta:{title:"Form",icon:"icon-face-smile-fill"}}]},{path:"/menu2",component:R,meta:{title:"Menu2",icon:"icon-idcard"},children:[{path:"dashboard",component:()=>m(()=>import("./index.3ed4ddac.js"),["assets/index.3ed4ddac.js","assets/index.3bc607eb.css","assets/vendor.2a9b3e49.js"]),meta:{title:"Files",icon:"icon-face-smile-fill"}},{path:"form",component:()=>m(()=>import("./index.3ed4ddac.js"),["assets/index.3ed4ddac.js","assets/index.3bc607eb.css","assets/vendor.2a9b3e49.js"]),meta:{title:"Dir",icon:"icon-face-smile-fill"}}]},{path:"/:catchAll(.*)",redirect:"/404",hidden:!0}],ye=()=>H({history:M(),routes:fe}),w=ye();w.beforeEach(async(e,r,t)=>{if(e.path==="/login"){t();return}if(!U()){v.info("\u8BF7\u5148\u767B\u5F55"),t("/login");return}t()});const c=D;function ve(e){c.XHR.prototype.__send=c.XHR.prototype.send,c.XHR.prototype.send=function(){if(this.custom.xhr&&(this.custom.xhr.withCredentials=this.withCredentials||!1,this.responseType&&(this.custom.xhr.responseType=this.responseType)),this.custom.requestHeaders){const r={};for(let t in this.custom.requestHeaders)r[t.toString().toLowerCase()]=this.custom.requestHeaders[t];this.custom.options=Object.assign({},this.custom.options,{headers:r})}this.__send.apply(this,arguments)},c.XHR.prototype.proxy_open=c.XHR.prototype.open,c.XHR.prototype.open=function(){let r=this.responseType;this.proxy_open(...arguments),this.custom.xhr&&r&&(this.custom.xhr.responseType=r)};for(const{url:r,method:t,response:s,timeout:n}of e)be(n),c.mock($(r,void 0,{end:!1}),t||"get",ke(s))}function ge(e){const r=e.split("?")[1];return r?JSON.parse('{"'+decodeURIComponent(r).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"').replace(/\+/g," ")+'"}'):{}}function ke(e){return function(r){let t=null;if(typeof e=="function"){const{body:s,type:n,url:o,headers:a}=r;t=e({method:n,body:JSON.parse(s),query:ge(o),headers:a})}else t=e;return c.mock(t)}}function be(e=0){e&&c.setup({timeout:e})}var xe=[{url:"/api/login",method:"post",statusCode:200,response:({body:e})=>({token:"user token",name:"Captain"})}];function Ee(){ve([...xe])}N(W).use(q).use(X).use(te).use(w).mount("#app");Ee();export{h as _};
